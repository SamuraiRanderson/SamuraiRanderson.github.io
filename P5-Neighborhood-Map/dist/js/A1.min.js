var Model=[{name:"Jimmy's Food Store",address_1:"4901 Bryan St",address_2:"Dallas, TX 75206",phone:"(214) 823-6180",lat:32.804476,lng:-96.773658,url:"https://www.jimmysfoodstore.com",yelpId:"jimmys-food-store-dallas",category:"Eat"},{name:"Dolly Python",address_1:"1916 N Haskell Ave",address_2:"Dallas, TX 75204",phone:"(214) 887-3434",lat:32.802272,lng:-96.785943,url:"http://www.dollypythonvintage.com",yelpId:"dolly-python-dallas",category:"Shop"},{name:"The Samurai Collection",address_1:"2501 N Harwood St",address_2:"Dallas, TX 75201",phone:"(214) 965-1032",lat:32.791917,lng:-96.806217,url:"http://www.samuraicollection.org",yelpId:"the-ann-and-gabriel-barbier-mueller-museum-the-samurai-collection-dallas",category:"Learn"},{name:"Pecan Lodge",address_1:"2702 Main St",address_2:"Dallas, TX 75226",phone:"(214) 748-8900",lat:32.783925,lng:-96.78382,url:"http://www.pecanlodge.com",yelpId:"pecan-lodge-dallas-3",category:"Eat"},{name:"Smoke",address_1:"901 Fort Worth Ave",address_2:"Dallas, TX 75208",phone:"(214) 393-4141",lat:32.769605,lng:-96.837312,url:"http://smokerestaurant.com",yelpId:"smoke-dallas-2?osq=smoke",category:"Eat"},{name:"Dallas Museum of Art",address_1:"1717 N Harwood St",address_2:"Dallas, TX 75201",phone:"(214) 922-1200",lat:32.787814,lng:-96.800793,url:"https://www.dma.org",yelpId:"dallas-museum-of-art-dallas",category:"Learn"},{name:"Double Wide Bar",address_1:"3510 Commerce St",address_2:"Dallas, TX 75226",phone:"(214) 887-6510",lat:32.784991,lng:-96.772994,url:"http://www.double-wide.com",yelpId:"double-wide-dallas",category:"Drink"},{name:"Torchy's Tacos",address_1:"5600 SMU Boulevard",address_2:"Dallas, TX 75206",phone:"(972) 993-8226",lat:32.842145,lng:-96.771354,url:"http://torchystacos.com/location/smu",yelpId:"torchys-tacos-dallas-2?osq=torchy%27s+atcos+smu",category:"Eat"},{name:"Perot Museum of Nature and Science",address_1:"3510 Commerce St",address_2:"Dallas, TX 75226",phone:"(214) 887-6510",lat:32.787153,lng:-96.806644,url:"http://www.perotmuseum.org",yelpId:"perot-museum-of-nature-and-science-dallas-2",category:"Learn"},{name:"Luscher's Red Hots",address_1:"2653 Commerce St",address_2:"Dallas, TX 75226",phone:"(214) 434-1006",lat:32.783485,lng:-96.784181,url:"http://www.luschers.com",yelpId:"luschers-red-hots-dallas",category:"Eat"},{name:"Pizza Lounge",address_1:"841 Exposition Ave",address_2:"Dallas, TX 75226",phone:"(214) 887-6900",lat:32.782527,lng:-96.766595,url:"http://www.pizzaloungedallas.com",yelpId:"pizza-lounge-dallas?osq=Pizza+Lounge",category:"Eat"},{name:"Oddfellows",address_1:"316 W 7th St",address_2:"Dallas, TX 75208",phone:"(214) 944-5958",lat:32.748872,lng:-96.826812,url:"http://oddfellowsdallas.com",yelpId:"oddfellows-dallas",category:"Eat"},{name:"We are 1976",address_1:"313 N Bishop Ave",address_2:"Dallas, TX 75208",phone:"(214) 821-1976",lat:32.748334,lng:-96.829321,url:"http://www.weare1976.com",yelpId:"we-are-1976-dallas-2",category:"Shop"},{name:"The Magnolia",address_1:"3699 McKinney Ave #100",address_2:"Dallas, TX 75204",phone:"(214) 520-0394",lat:32.808131,lng:-96.797955,url:"http://www.landmarktheatres.com/dallas/the-magnolia",yelpId:"landmarks-magnolia-theater-dallas",category:"Learn"},{name:"Barcadia",address_1:"1917 N Henderson Ave",address_2:"Dallas, TX 75206",phone:"(214) 821-7300",lat:32.811954,lng:-96.775115,url:"http://barcadiabars.com/barcadiadallas",yelpId:"barcadia-dallas",category:"Drink"},{name:"The Old Monk",address_1:"2847 N Henderson Ave",address_2:"Dallas, TX 75206",phone:"(214) 821-1880",lat:32.820336,lng:-96.784939,url:"http://www.oldmonkdallas.com",yelpId:"the-old-monk-dallas",category:"Drink"},{name:"The Joule",address_1:"1530 Main St",address_2:"Dallas, TX 75201",phone:"(214) 748-1300",lat:32.78098,lng:-96.798352,url:"http://www.thejouledallas.com",yelpId:"the-joule-dallas-dallas-2",category:"Stay"},{name:"Omni Dallas Hotel",address_1:"555 S Lamar",address_2:"Dallas, TX 75202",phone:"(214) 744-6664",lat:32.775559,lng:-96.804319,url:"http://www.omnihotels.com/hotels/dallas",yelpId:"omni-dallas-hotel-dallas-2",category:"Stay"},{name:"Elbow Room",address_1:"3010 Gaston Ave",address_2:"Dallas, TX 75226",phone:"(214) 828-9488",lat:32.78859,lng:-96.783126,url:"http://elbowroomdallas.com",yelpId:"the-elbow-room-dallas",category:"Eat"}],P=function(a){var e=this;e.name=ko.observable(a.name),e.marker=ko.observable(),e.phone=ko.observable(a.phone),e.lat=ko.observable(a.lat),e.lng=ko.observable(a.lng),e.url=ko.observable(a.url),e.category=ko.observable(a.category),e.address_1=ko.observable(a.address_1),e.address_2=ko.observable(a.address_2)},ViewModel=function(){function a(a){d.setContent("<h2>"+a.title+"</h2><br>"+a.address_1+"<br>"+a.address_2+"<br>"+a.phone+"</br><a href="+a.url+">"+a.url+"</a>"),d.open(l,a),null!==a.getAnimation()?a.setAnimation(null):(a.setAnimation(google.maps.Animation.BOUNCE),e()),l.panTo(a.position),Model.currentMarker(a)}function e(a){setTimeout(function(){a.setAnimation(null)},3500)}var l,o=this;o.placeList=ko.observableArray([]),Model.forEach(function(a){o.placeList.push(new P(a))});var s={zoom:13,center:new google.maps.LatLng(32.789356,-96.801788),panControl:!1,panControlOptions:{position:google.maps.ControlPosition.BOTTOM_LEFT},zoomControl:!0,zoomControlOptions:{style:google.maps.ZoomControlStyle.LARGE,position:google.maps.ControlPosition.RIGHT_BOTTOM},scaleControl:!1,disableDefaultUI:!1,mapTypeId:google.maps.MapTypeId.ROADMAP};l=new google.maps.Map(document.getElementById("map-canvas"),s),Model.currentMarker=ko.observable(null);for(var t,n=new google.maps.MarkerImage("images/pegasus.png",null,null,null,new google.maps.Size(42,42)),r=0;r<Model.length;r++){t=new google.maps.Marker({position:new google.maps.LatLng(Model[r].lat,Model[r].lng),map:l,icon:n,title:Model[r].name,address_1:Model[r].address_1,address_2:Model[r].address_2,phone:Model[r].phone,url:Model[r].url,animation:google.maps.Animation.DROP});var d=new google.maps.InfoWindow;o.filter=function(){var a=$("#filter").val();a=a.toLowerCase().replace(/\b[a-z]/g,function(a){return a.toUpperCase()}),$(".locList > li").each(function(){$(this).text().search(a)>-1?$(this).show():$(this).hide()});for(var e=0;e<o.placeList().length;e++)o.placeList()[e].marker.setMap(o.placeList()[e].marker.title.search(a)>-1?l:null)},$("#fav-locations .dropdown-menu").append("<li><a>"+Model[r].name+"</a></li>"),$("#fav-locations .dropdown-menu li a").last().bind("click",function(l){return function(){a(l),e(l)}}(t)),google.maps.event.addListener(t,"click",function(){a(this),e(this)})}};$(document).ready(function(){ko.applyBindings(new ViewModel)});